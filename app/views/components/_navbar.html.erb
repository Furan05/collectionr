<nav class="navbar">
  <div class="logo">
    <%= link_to root_path do %>
      <%= image_tag 'logo_collectionr.png', alt: 'Logo', class: "logo-collectionr" %>
    <% end %>
  </div>

  <ul class="nav-links">
    <%= link_to "Home", root_path, class: "nav-item" %>
    <%= link_to "Collection", collections_path, class: "nav-item" %>
    <%= link_to "Card", cards_path, class: "nav-item" %>
  </ul>

  <div class="user-profile">
    <div class="nav-buttons">
      <% if current_user %>
        <div data-controller="dropdown" class="relative">
          <button
            type="button"
            data-action="click->dropdown#toggle keydown.esc->dropdown#closeDropdown click@window->dropdown#closeDropdown"
            data-dropdown-target="button"
            class="profile-btn"
          >
            <i class="fa-solid fa-user-large user-icon"></i>
          </button>

          <div
            data-dropdown-target="content"
            class="profile-dropdown"
          >
            <%= link_to profile_user_path(current_user), class: "dropdown-item" do %>
              <i class="fa-solid fa-user"></i> Mon Profil
            <% end %>

            <a href="#" class="dropdown-item">
              <i class="fa-solid fa-gear"></i> Favorie
            </a>
            
            <%= link_to edit_user_registration_path, class: "dropdown-item" do %>
              <i class="fa-solid fa-gear"></i> Paramètres
            <% end %>

            <%= link_to destroy_user_session_path,
              data: { turbo_method: :delete },
              class: "dropdown-item dropdown-item-danger" do
            %>
              <i class="fa-solid fa-right-from-bracket"></i> Déconnexion
            <% end %>
          </div>
        </div>
      <% else %>
        <%= link_to 'LOGIN', new_user_session_path, class: 'login-btn' %>
      <% end %>
    </div>
  </div>
</nav>
