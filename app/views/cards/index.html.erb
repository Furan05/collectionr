<%# app/views/cards/index.html.erb %>
<div class="cards-page">
  <h1 class="main-title">Nos cards du moment</h1>

  <div class="search-container">
    <%= form_with(url: cards_path, method: :get, class: "search-form") do |f| %>
      <div class="search-input-wrapper">
        <i class="fas fa-search search-icon"></i>
        <%= f.text_field :query, placeholder: "Trouver une carte ?", class: "search-input" %>
        <%= f.hidden_field :tcg, value: params[:tcg] if params[:tcg].present? %>
      </div>
    <% end %>
  </div>

  <div class="tabs" data-controller="tabs">
    <%= link_to "Pokemon", "#",
        class: "tab #{params[:tcg] == 'pokemon' || params[:tcg].nil? ? 'active' : ''}",
        data: {
          tab: "pokemon",
          action: "click->tabs#switch"
        } %>
    <%= link_to "Yu-gi-ho", "#",
        class: "tab #{params[:tcg] == 'yugiho' ? 'active' : ''}",
        data: {
          tab: "yugiho",
          action: "click->tabs#switch"
        } %>
  </div>

  <div id="cards_list">
    <%= render "cards/list", cards: @cards %>
  </div>
</div>
